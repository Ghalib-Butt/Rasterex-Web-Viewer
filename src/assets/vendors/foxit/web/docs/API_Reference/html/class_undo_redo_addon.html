<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FoxitPDFSDKforWeb: UndoRedoAddon Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="favicon.ico"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FoxitPDFSDKforWeb
   &#160;<span id="projectnumber">v10.0.0</span>
   </div>
   <div id="projectbrief">Foxit PDF SDK for Web</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_undo_redo_addon.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_undo_redo_addon-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">UndoRedoAddon Class Reference<div class="ingroups"><a class="el" href="group___u_i_extension.html">UIExtension</a> &raquo; <a class="el" href="group__addons.html">addons</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This addon provides comprehensive undo and redo operations at a global level within the document environment. It supports undoing and redoing actions related to bookmarks, annotations, and advanced editing (AdvEdit) functionalities. Users can efficiently revert or reapply changes made to bookmarks, annotations, and advanced editing tasks within the document, enhancing the overall control and flexibility of document management.  
 <a href="class_undo_redo_addon.html#details">More...</a></p>

<p>Inherits UIXAddon.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a93f681f1c7132beae89720a9b6f0edf4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_undo_redo_addon.html#a93f681f1c7132beae89720a9b6f0edf4">invoke</a> (callback)</td></tr>
<tr class="memdesc:a93f681f1c7132beae89720a9b6f0edf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a callback function to add document operation history to the undo stack.  <a href="#a93f681f1c7132beae89720a9b6f0edf4">More...</a><br /></td></tr>
<tr class="separator:a93f681f1c7132beae89720a9b6f0edf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f7f2ecc268c85d8acf6e6b6723eea4b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_undo_redo_addon.html#a2f7f2ecc268c85d8acf6e6b6723eea4b">redo</a> ()</td></tr>
<tr class="memdesc:a2f7f2ecc268c85d8acf6e6b6723eea4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Redoes the previously undone document operation.  <a href="#a2f7f2ecc268c85d8acf6e6b6723eea4b">More...</a><br /></td></tr>
<tr class="separator:a2f7f2ecc268c85d8acf6e6b6723eea4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2271a8dba6fd7881c6122d4d6c65a7c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_undo_redo_addon.html#aa2271a8dba6fd7881c6122d4d6c65a7c">undo</a> ()</td></tr>
<tr class="memdesc:aa2271a8dba6fd7881c6122d4d6c65a7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Undoes the last document operation.  <a href="#aa2271a8dba6fd7881c6122d4d6c65a7c">More...</a><br /></td></tr>
<tr class="separator:aa2271a8dba6fd7881c6122d4d6c65a7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe3fa5421ab7b74f99fe0950b828766e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_undo_redo_addon.html#afe3fa5421ab7b74f99fe0950b828766e">undoAll</a> ()</td></tr>
<tr class="memdesc:afe3fa5421ab7b74f99fe0950b828766e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Undoes the all document operations.  <a href="#afe3fa5421ab7b74f99fe0950b828766e">More...</a><br /></td></tr>
<tr class="separator:afe3fa5421ab7b74f99fe0950b828766e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This addon provides comprehensive undo and redo operations at a global level within the document environment. It supports undoing and redoing actions related to bookmarks, annotations, and advanced editing (AdvEdit) functionalities. Users can efficiently revert or reapply changes made to bookmarks, annotations, and advanced editing tasks within the document, enhancing the overall control and flexibility of document management. </p>
<dl class="section since"><dt>Since</dt><dd>9.2.0</dd></dl>
<dl class="section user"><dt>Example of obtaining and using the UndoRedo Addon:</dt><dd><div class="fragment"><div class="line">pdfui.getAddonInstance(<span class="stringliteral">&#39;UndoRedoAddon&#39;</span>).then(undoRedoAddon =&gt; {</div><div class="line">  <span class="keywordflow">if</span> (undoRedoAddon) {</div><div class="line">    undoRedoAddon.undo();</div><div class="line">  } <span class="keywordflow">else</span> {</div><div class="line">    console.error(<span class="stringliteral">&quot;UndoRedo Addon instance not found.&quot;</span>);</div><div class="line">  }</div><div class="line">});</div></div><!-- fragment --> </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a93f681f1c7132beae89720a9b6f0edf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93f681f1c7132beae89720a9b6f0edf4">&#9670;&nbsp;</a></span>invoke()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">UndoRedoAddon::invoke </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executes a callback function to add document operation history to the undo stack. </p>
<p>Use this method to execute a callback function that performs document operations, such as creating, deleting, or modifying annotations. The operation history of these actions will be automatically added to the undo stack, enabling users to undo these actions if needed. If no document is currently open, the <code>pdfDoc</code> parameter within the callback function will be <code>null</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>(pdfDoc:<a class="el" href="class_p_d_f_doc.html">PDFDoc</a>)=&gt;void - A callback function that receives a <code>pdfDoc</code> parameter and should perform the document operation to be added to the undo stack. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void - </dd></dl>
<dl class="section since"><dt>Since</dt><dd>9.2.0</dd></dl>
<dl class="section user"><dt>Example of using this API:</dt><dd><div class="fragment"><div class="line">pdfui.getAddonInstance(<span class="stringliteral">&#39;UndoRedoAddon&#39;</span>).then(undoRedoAddon =&gt; {</div><div class="line">  <span class="keywordflow">if</span> (undoRedoAddon) {</div><div class="line">    undoRedoAddon.invoke(async pdfDoc =&gt; {</div><div class="line">        <span class="keyword">const</span> pdfPage = await pdfDoc.getPageByIndex(0);</div><div class="line">        pdfPage.addAnnot({...}); <span class="comment">// Perform document operation to be added to the undo stack.</span></div><div class="line">    });</div><div class="line">  } <span class="keywordflow">else</span> {</div><div class="line">    console.error(<span class="stringliteral">&quot;UndoRedo Addon instance not found.&quot;</span>);</div><div class="line">  }</div><div class="line">});</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="a2f7f2ecc268c85d8acf6e6b6723eea4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f7f2ecc268c85d8acf6e6b6723eea4b">&#9670;&nbsp;</a></span>redo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">UndoRedoAddon::redo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Redoes the previously undone document operation. </p>
<dl class="section return"><dt>Returns</dt><dd>Promise&lt;void&gt; - A Promise that resolves when the redo operation is completed. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>9.2.0 </dd></dl>
<dl class="section user"><dt>Example of redoing the previously undone document operation:</dt><dd><div class="fragment"><div class="line">pdfui.getAddonInstance(<span class="stringliteral">&#39;UndoRedoAddon&#39;</span>).then(undoRedoAddon =&gt; {</div><div class="line">  <span class="keywordflow">if</span> (undoRedoAddon) {</div><div class="line">    undoRedoAddon.redo();</div><div class="line">  } <span class="keywordflow">else</span> {</div><div class="line">    console.error(<span class="stringliteral">&quot;UndoRedo Addon instance not found.&quot;</span>);</div><div class="line">  }</div><div class="line">});</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="aa2271a8dba6fd7881c6122d4d6c65a7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2271a8dba6fd7881c6122d4d6c65a7c">&#9670;&nbsp;</a></span>undo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">UndoRedoAddon::undo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Undoes the last document operation. </p>
<dl class="section return"><dt>Returns</dt><dd>Promise&lt;void&gt; - A Promise that resolves when the undo operation is completed. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>9.2.0 </dd></dl>
<dl class="section user"><dt>Example of undoing the last document operation:</dt><dd><div class="fragment"><div class="line">pdfui.getAddonInstance(<span class="stringliteral">&#39;UndoRedoAddon&#39;</span>).then(undoRedoAddon =&gt; {</div><div class="line">  <span class="keywordflow">if</span> (undoRedoAddon) {</div><div class="line">    undoRedoAddon.undo();</div><div class="line">  } <span class="keywordflow">else</span> {</div><div class="line">    console.error(<span class="stringliteral">&quot;UndoRedo Addon instance not found.&quot;</span>);</div><div class="line">  }</div><div class="line">});</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="afe3fa5421ab7b74f99fe0950b828766e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe3fa5421ab7b74f99fe0950b828766e">&#9670;&nbsp;</a></span>undoAll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">UndoRedoAddon::undoAll </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Undoes the all document operations. </p>
<dl class="section return"><dt>Returns</dt><dd>Promise&lt;void&gt; - A Promise that resolves when the undo operation is completed. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>9.2.0 </dd></dl>
<dl class="section user"><dt>Example of undoing all document operations:</dt><dd><div class="fragment"><div class="line">pdfui.getAddonInstance(<span class="stringliteral">&#39;UndoRedoAddon&#39;</span>).then(undoRedoAddon =&gt; {</div><div class="line">  <span class="keywordflow">if</span> (undoRedoAddon) {</div><div class="line">    undoRedoAddon.undoAll();</div><div class="line">  } <span class="keywordflow">else</span> {</div><div class="line">    console.error(<span class="stringliteral">&quot;UndoRedo Addon instance not found.&quot;</span>);</div><div class="line">  }</div><div class="line">});</div></div><!-- fragment --> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<html>
<body>
<hr class="footer" id="nav-path"/>
<p align="right">
	<center>
	<img class="footer" src="logo.png" alt="Foxit Software Corporation Logo"/>
	</center>
	<center>
	@2024 Foxit Software Incorporated. All rights reserved.
	</center>
</p>
<style>
	.server-only-jr {
		display:inline;
	}
	.server-only-sr,
	.not-support-in-server,
	.support-in-server {
		display: none;
	}
	a.vel:after {
		content: ' ';
		background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhcGFfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgdmlld0JveD0iMCAwIDI4My45MjIgMjgzLjkyMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjgzLjkyMiAyODMuOTIyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnPgoJPHBhdGggZD0iTTI2Ni40MjIsMGgtOTcuNjI1Yy05LjY1LDAtMTcuNSw3Ljg1MS0xNy41LDE3LjVjMCw5LjY0OSw3Ljg1LDE3LjUsMTcuNSwxNy41aDU1LjM3N2wtOTIuMzc1LDkyLjM3NAoJCWMtMy4zMDcsMy4zMDUtNS4xMjcsNy42OTktNS4xMjcsMTIuMzc1YzAsNC42NzYsMS44MTksOS4wNjksNS4xMjUsMTIuMzcxYzMuMzA2LDMuMzA5LDcuNjk5LDUuMTMsMTIuMzc1LDUuMTMKCQljNC42NzQsMCw5LjA2OS0xLjgyLDEyLjM3Ni01LjEyN2w5Mi4zNzQtOTIuMzc1djU1LjM3N2MwLDkuNjQ5LDcuODUxLDE3LjUsMTcuNSwxNy41YzkuNjQ5LDAsMTcuNS03Ljg1MSwxNy41LTE3LjVWMTcuNQoJCUMyODMuOTIyLDcuODUxLDI3Ni4wNzEsMCwyNjYuNDIyLDB6IiBmaWxsPSIjM0Q1NzhDIi8+Cgk8cGF0aCBkPSJNMjAxLjEzNywyNTMuOTIySDMwVjgyLjc4NWgxMjguNzExbDMwLTMwSDE1Yy04LjI4NCwwLTE1LDYuNzE2LTE1LDE1djIwMS4xMzdjMCw4LjI4NCw2LjcxNiwxNSwxNSwxNWgyMDEuMTM3CgkJYzguMjg0LDAsMTUtNi43MTYsMTUtMTVWOTUuMjExbC0zMCwzMFYyNTMuOTIyeiIgIGZpbGw9IiMzRDU3OEMiLz4KPC9nPgo8L3N2Zz4K);
		display: inline-block;
		width: 12px;
		height: 12px;
		line-height: 0;
		vertical-align: baseline;
		margin: 0 2px;
		background-repeat: no-repeat;
		background-position: center;
	}
	.type-name {
	    font-weight: bold;
	    font-style: italic;
	    color: #354C7B;
	    padding-right: 1em;
	}
	.show-plain-text:before {
    	content: attr(text);
    }
    .optional-member {
        display: block;
        font: 400 14px/22px Roboto,sans-serif;
        margin: 1em 0;
    }
    .optional-member:before {
        content: 'Optional';
        font-weight: bold;
    }
    .mdescRight>.optional-member {
        display: none;
    }
</style>
<script>
var _eSRStyle;
function createSRStyle () {
	if (_eSRStyle) {
		return;
	}
	var eStyle = document.createElement('style');
	eStyle.innerHTML = '.server-only-jr{display:none;} .server-only-sr,.not-support-in-server,.support-in-server{display:inline;} ';
	document.body.appendChild(eStyle);
	_eStyle = eStyle;
}
function removeSRStyle () {
	try{
	document.body.removeChild(_eSRStyle);
	_eSRStyle = null;
	}catch(ex){}
}
function hasSRhash () {
	var _hash = location.hash.slice(1);
	if (_hash.indexOf('SR=true') !== -1) {
		return true;
	}
	return false;
}
if (hasSRhash()) {
	createSRStyle();
}
window.onhashchange = function () {
	if (hasSRhash()) {
    	createSRStyle();
    } else {
    	removeSRStyle();
    }
}
var paramDesc = document.querySelectorAll('.memitem .memdoc .params table.params tr>td:nth-child(2)')
console.log(paramDesc);
paramDesc.forEach(function(it) {
    var childNodes = it.childNodes;
    var textNode = childNodes[0];
    if(!(textNode instanceof Text)) {
        return;
    }
    var text = textNode.textContent.trim();
    if(text === '{') {
        const another = childNodes[2];
        if(!(another instanceof Text)) {
            return;
        }
        const i = another.textContent.trim().indexOf('}');
        if(i > -1) {
            textNode.remove();
            another.textContent = another.textContent.replace('}', '');
        }
        return;
    }
    var reg = /([\S]*)?[\s\-]+?([^\s-].+)$/;
    var result = reg.exec(text);
    if(result) {
        var type = result[1].replace(/(^\{)|(\}$)/g, '');
        var descText = result[2];
        var typeNode = document.createElement('span');
        typeNode.className = 'type-name';
        typeNode.innerText = type;
        var descNode = document.createTextNode(descText);
        textNode.after(typeNode, descNode);
        textNode.remove();
    }
//     const desc = it.innerHTML.trim();
//     var parts = it.innerText.trim().split(/\s*[\s\-]\s*/);
//     var type = parts[0];
//     var other = parts.slice(1).join(' ');
//     it.innerHTML = [
//         '<span class="type-name">', type, '</span>',
//         other
//     ].join('');
})
var linksInCodeFragment = document.querySelectorAll('.fragment a.code');
linksInCodeFragment.forEach(function(link) {
	link.replaceWith(link.innerText);
});
</script>
</BODY></HTML>