<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CORS | Foxit PDF SDK For Web - V10.0.0</title>
    <meta name="generator" content="VuePress 1.9.10">
    <script src="/docs/developer-guide/resetHref.js"></script>
    <link rel="icon" href="/docs/developer-guide/favicon.ico">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800">
    <meta name="description" content="Foxit PDF SDK For Web开发文档">
    
    <link rel="preload" href="/docs/developer-guide/assets/css/0.styles.6b862bf6.css" as="style"><link rel="preload" href="/docs/developer-guide/assets/js/app.5496d287.js" as="script"><link rel="preload" href="/docs/developer-guide/assets/js/2.cd9f3c75.js" as="script"><link rel="preload" href="/docs/developer-guide/assets/js/1.f6fc1d0f.js" as="script"><link rel="preload" href="/docs/developer-guide/assets/js/20.f86c055c.js" as="script"><link rel="prefetch" href="/docs/developer-guide/assets/js/10.8058bde1.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/100.72f3e591.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/101.3a9116b1.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/102.84b44ee5.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/103.ee3cc065.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/104.5b375f63.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/105.98759d6c.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/106.85f00cf5.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/107.33e09399.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/108.68e8fcea.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/109.86f1b644.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/11.cfc75bee.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/110.3ee08f4d.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/111.26c6cfda.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/112.5ef05737.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/113.4b0141f3.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/114.cd010192.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/115.e004ead3.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/116.4c1a14e4.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/117.db01bdc0.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/118.d4e8fd89.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/119.1dccfc4c.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/12.94a801a0.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/120.2b1088b0.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/121.f7ebc33c.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/122.31ec195a.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/123.b7c601a8.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/124.ea408aab.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/125.9bd1b158.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/126.4b213e8a.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/127.6f3ebd4b.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/128.ec1442ac.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/129.7d143029.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/13.45136fef.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/130.f175691b.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/131.0531c7ee.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/132.afbc28bc.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/133.f2a14393.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/134.db483f12.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/135.66405677.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/136.524dd812.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/137.9fa4b922.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/138.8435d805.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/139.88f33437.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/14.6e47090b.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/140.e06cdde5.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/141.45742843.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/142.b371309c.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/143.0289db1b.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/144.ad49e857.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/145.70af7cbf.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/146.7f3a75e5.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/147.bf72a268.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/148.fbd11c37.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/149.e8900638.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/15.513b3c4d.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/150.bc7fbb6c.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/151.d102ad93.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/152.b30531ce.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/153.8681a684.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/154.a22b4e11.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/155.c4b3d241.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/156.237190a9.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/157.9804dc64.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/158.06c97db3.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/159.c2bcc898.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/16.51dd8fd3.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/160.7961a6a1.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/161.3d18bdb3.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/162.a5c955a9.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/163.6a82d22e.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/164.66140aaa.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/165.69b0a53a.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/166.4eff7f6d.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/167.84cc6f26.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/168.992bf2fd.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/169.bb48dc4f.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/17.4a982141.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/170.484377e4.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/171.907988e2.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/172.6e86fba3.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/173.c4263fc6.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/174.5caf0181.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/175.9c30524b.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/176.f49d76de.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/177.476619fd.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/178.6beb151e.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/179.f06aefab.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/18.5c28dac1.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/180.183b8a7f.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/181.c89a138f.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/182.e7e0e932.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/183.940a9414.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/184.15f8ef0f.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/185.131efc25.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/186.dd0f95f8.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/187.fa94c642.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/188.396659a1.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/189.4b57a887.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/19.af9be205.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/190.cf572247.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/191.2fd92cc4.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/192.ceea88ac.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/193.8d437780.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/194.5a1543d5.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/195.e61ed5cf.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/196.a505722f.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/197.b850e201.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/198.85a43521.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/199.dc4b4941.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/200.c5f33adc.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/201.66bc65b5.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/202.abf0e859.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/203.33fd88e1.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/204.040b7232.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/205.41c981fe.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/206.7ff5352c.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/207.076ce823.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/21.894f45d2.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/22.a24cf50d.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/23.0e199f94.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/24.1545acd1.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/25.eba845e2.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/26.e05a6823.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/27.d07e37be.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/28.fc62f750.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/29.0fd1dd7b.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/3.5b5aeeca.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/30.29283867.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/31.773bccce.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/32.2690aeb9.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/33.a8f8cb07.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/34.6ce97638.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/35.54d00ca7.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/36.4aec399f.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/37.996a1b6f.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/38.023d4e78.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/39.eb48db34.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/4.8a3ba3b2.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/40.ef84d6c1.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/41.79a11af9.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/42.784c4901.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/43.9f43be3a.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/44.0375e0a5.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/45.dac98fa9.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/46.931b005c.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/47.1565b21a.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/48.21bcf972.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/49.71bac77d.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/5.eff11180.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/50.1e2417f7.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/51.a12f00bf.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/52.13e6b6cf.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/53.b4836dab.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/54.ef962c07.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/55.ceb575cd.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/56.35521497.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/57.11a87ad5.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/58.68ddad0b.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/59.131ca72c.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/6.ad0ec73b.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/60.4d66dbd1.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/61.27534088.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/62.ae203dc5.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/63.c9920f96.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/64.7c465275.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/65.56f01881.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/66.aeb6a715.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/67.e7bd9bb5.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/68.cb02b5ec.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/69.735e8ff6.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/7.eb6d59c3.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/70.c7bf33ab.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/71.9d6f4a28.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/72.985a78db.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/73.5e0b3ebb.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/74.2528ee69.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/75.bea446f1.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/76.ddf8ac19.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/77.e127bba1.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/78.124cb2b4.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/79.0f3dafa1.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/80.23003b70.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/81.3f670ffe.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/82.a3cbb505.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/83.129ef2c6.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/84.3c69920a.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/85.4115f796.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/86.ff1f181b.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/87.7db3b685.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/88.a31f4506.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/89.fc71e9bf.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/90.a20e4dcd.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/91.53cfe523.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/92.9c0bdceb.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/93.cd68ca5a.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/94.9be1e260.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/95.b6a54498.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/96.0f7d5244.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/97.3d9bd873.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/98.71885536.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/99.fa6c908a.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/vendors~docsearch.33b2b47d.js">
    <link rel="stylesheet" href="/docs/developer-guide/assets/css/0.styles.6b862bf6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/developer-guide/zh/" class="home-link router-link-active"><!----> <span class="site-name">Foxit PDF SDK For Web - V10.0.0</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/developer-guide/zh/guides/" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/docs/API_Reference/FoxitPDFSDK_API_Reference.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  API文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/docs/developer-guide/zh/technical-support/" class="nav-link">
  技术支持
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title">了解更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="了解更多" class="mobile-dropdown-title"><span class="title">了解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          开发工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.npmjs.com/package/@foxitsoftware/gulp-merge-addon" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @foxitsoftware/addon-loader
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.npmjs.com/package/@foxitsoftware/addon-loader" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @foxitsoftware/gulp-merge-addon
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><!----> <a href="/docs/developer-guide/zh/changelog/changelog7_3_0.html" class="nav-link">
  更新日志
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="选择语言" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="选择语言" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/developer-guide/main/troubleshooting/cors-support.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/docs/developer-guide/zh/main/troubleshooting/cors-support.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/developer-guide/zh/guides/" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/docs/API_Reference/FoxitPDFSDK_API_Reference.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  API文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/docs/developer-guide/zh/technical-support/" class="nav-link">
  技术支持
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title">了解更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="了解更多" class="mobile-dropdown-title"><span class="title">了解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          开发工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.npmjs.com/package/@foxitsoftware/gulp-merge-addon" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @foxitsoftware/addon-loader
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.npmjs.com/package/@foxitsoftware/addon-loader" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @foxitsoftware/gulp-merge-addon
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><!----> <a href="/docs/developer-guide/zh/changelog/changelog7_3_0.html" class="nav-link">
  更新日志
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="选择语言" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="选择语言" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/developer-guide/main/troubleshooting/cors-support.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/docs/developer-guide/zh/main/troubleshooting/cors-support.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>入门</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/developer-guide/zh/main/getting-started/understanding-the-package-structure.html" class="sidebar-link">包目录结构说明</a></li><li><a href="/docs/developer-guide/zh/main/getting-started/quickly-run-samples.html" class="sidebar-link">快速运行示例</a></li><li><a href="/docs/developer-guide/zh/main/getting-started/Integration.html" class="sidebar-link">集成</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>示例工程</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>自定义</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>插件化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>功能模块</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>协同</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/docs/developer-guide/zh/main/best-practice.html" class="sidebar-link">最佳实践</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>问题处理</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="cors"><a href="#cors" class="header-anchor">#</a> CORS</h1> <h2 id="原理简析"><a href="#原理简析" class="header-anchor">#</a> 原理简析</h2> <h3 id="什么是-cors"><a href="#什么是-cors" class="header-anchor">#</a> 什么是 CORS</h3> <p>CORS 是一个基于 HTTP 头的 <a href="https://www.w3.org/TR/2020/SPSD-cors-20200602/" target="_blank" rel="noopener noreferrer">W3C 标准机制<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，全称是“跨域资源共享”（Cross-origin resource sharing）。该机制通过额外的 HTTP 响应头来告诉浏览器一个页面是否允许访问来自不同源服务器上的资源，克服了 AJAX 只能使用同源的限制，从而实现跨域访问资源。</p> <p>更详细的关于 CORS 的介绍，可以参考这篇<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS" target="_blank" rel="noopener noreferrer">MDN文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：</p> <h3 id="同源策略"><a href="#同源策略" class="header-anchor">#</a> 同源策略</h3> <p>同源策略是一种用于隔离潜在恶意文件、减少被攻击的重要安全机制，其限制了一个源的页面或者它加载的脚本如何能于另一个源的资源进行交互。举个例子，在一个页面中，通过 AJAX 向一个不同源的URL发送请求，浏览器检测到该请求不同源(也就跨域)，则阻止请求，并在控制台输出错误。</p> <p>那什么是同源？用一句话说，具有相同的协议、IP/域名、端口就可以认为是同源，只要其中一项不同，则不是同源。下表给出了一些示例：</p> <table><thead><tr><th>URLs</th> <th style="text-align:center;">结果</th> <th style="text-align:center;">原因</th></tr></thead> <tbody><tr><td><code>http://www.company.com/</code><br><code>https://www.company.com/</code></td> <td style="text-align:center;">不同源</td> <td style="text-align:center;">协议不同</td></tr> <tr><td><code>http://www.company.com/</code><br><code>http://www.company.net/</code></td> <td style="text-align:center;">不同源</td> <td style="text-align:center;">域名不同</td></tr> <tr><td><code>http://www.company.com/</code><br><code>http://blob.company.com/</code></td> <td style="text-align:center;">不同源</td> <td style="text-align:center;">域名不同</td></tr> <tr><td><code>http://www.company.com/</code><br><code>http://blob.company.com/</code></td> <td style="text-align:center;">不同源</td> <td style="text-align:center;">域名不同</td></tr> <tr><td><code>http://www.company.com/</code><br><code>http://www.company.com:8080/</code></td> <td style="text-align:center;">不同源</td> <td style="text-align:center;">端口不同(<code>http://</code> 默认端口是 80)</td></tr> <tr><td><code>http://www.company.com/</code><br><code>http://www.company.com/blob.html</code></td> <td style="text-align:center;">同源</td> <td style="text-align:center;">只有路径不同</td></tr> <tr><td><code>http://www.company.com/blog/index.html</code><br><code>http://www.company.com/blob.html</code></td> <td style="text-align:center;">同源</td> <td style="text-align:center;">只有路径不同</td></tr> <tr><td><code>http://192.168.0.1/</code><br><code>http://192.168.1.1</code></td> <td style="text-align:center;">不同源</td> <td style="text-align:center;">IP不同</td></tr></tbody></table> <h3 id="两种-cors-请求"><a href="#两种-cors-请求" class="header-anchor">#</a> 两种 CORS 请求</h3> <p>浏览器将 CORS 请求分成两类：简单请求和非简单请求。
只要一个请求同时满足以下两大条件，就属于简单请求：</p> <blockquote><p>(1) 请求方法是这三种方法之一： HEAD, GET, POST
(2) HTTP 的头部信息不超出以下几种字段：
- Accept
- Accept-Language
- Content-Language
- Last-Event-ID
- Content-Type 为 application/x-www-form-urlencoded, multipart/form-data, text/plain 三者之一</p></blockquote> <p>浏览器对这两种请求的处理是不一样的。</p> <h4 id="简单请求"><a href="#简单请求" class="header-anchor">#</a> 简单请求</h4> <p>对于简单请求，浏览器直接发出 CORS 请求，并在请求头之中增加一个 <code>Origin</code> 字段：</p> <p><img src="/docs/developer-guide/assets/img/simple-request.ad7ef4a8.png" alt="simple-request"></p> <p><code>Origin</code> 字段说明了本次请求来自哪个源（协议、域名、端口）, 服务器端可以根据这个值来设置 Access-Control-Allow-Origin 字段，告诉浏览器是否响应这次请求。</p> <h4 id="非简单请求"><a href="#非简单请求" class="header-anchor">#</a> 非简单请求</h4> <p>非简单请求和简单请求不同，在浏览器检测到一个非简单请求时，会先自动发起一次 OPTIONS 请求，也就是预检（Preflight）请求，预检请求的作用就是询问服务器端是否允许跨域，这么做通常是为了避免额外的计算逻辑。当浏览器接收到预检请求的响应内容后，浏览器会判断响应头中的 <code>Access-Control-Allow-Origin</code>, <code>Access-Control-Allow-Methods</code> 等相关字段来决定是否继续发送第二次请求。</p> <h3 id="几个典型的跨域错误"><a href="#几个典型的跨域错误" class="header-anchor">#</a> 几个典型的跨域错误</h3> <ol><li><p>响应头没有包含 <code>Access-Control-Allow-Origin</code>：</p> <div class="language-log extra-class"><pre class="language-log"><code>Access to fetch at <span class="token string">'http://127.0.0.1:8967/1.pdf'</span> from origin <span class="token string">'http://127.0.0.1:7001'</span> <span class="token property">has been blocked by CORS policy:</span>
No <span class="token string">'Access-Control-Allow-Origin'</span> header is present on the requested resource<span class="token punctuation">.</span> 
If an opaque response serves your needs<span class="token punctuation">,</span> set the request's mode to <span class="token string">'no-cors'</span> to fetch the resource with CORS disabled<span class="token punctuation">.</span>
</code></pre></div></li> <li><p><code>Access-Control-Allow-Origin</code> 格式错误：</p> <div class="language-log extra-class"><pre class="language-log"><code>Access to fetch at <span class="token string">'&lt;AJAX请求目标源: 比如: http://192.168.0.1:8080&gt;'</span> from origin <span class="token string">'http://127.0.0.1:7001'</span> <span class="token property">has been blocked by CORS policy:</span>
The <span class="token string">'Access-Control-Allow-Origin'</span> header contains the invalid value <span class="token string">'&lt;Access-Control-Allow-Origin 响应头内容&gt;'</span><span class="token punctuation">.</span>
Have the server send the header with a valid value<span class="token punctuation">,</span> or<span class="token punctuation">,</span> if an opaque response serves your needs<span class="token punctuation">,</span> 
set the request's mode to <span class="token string">'no-cors'</span> to fetch the resource with CORS disabled<span class="token punctuation">.</span>
</code></pre></div><p><img src="/docs/developer-guide/assets/img/invalid-access-origin.9f9a4d6c.png" alt="invalid access origin"></p></li> <li><p><code>Access-Control-Allow-Origin</code> 不匹配</p> <div class="language-log extra-class"><pre class="language-log"><code>Access to fetch at <span class="token string">'http://127.0.0.1:8967/1.pdf'</span> from origin <span class="token string">'http://127.0.0.1:7001'</span> <span class="token property">has been blocked by CORS policy:</span> Response to preflight request doesn't pass access control check<span class="token operator">:</span> The <span class="token string">'Access-Control-Allow-Origin'</span> header has a value <span class="token string">'&lt;Access-Control-Allow-Origin 响应头内容, 比如：http://127.0.0.1:9999&gt;'</span> that is not equal to the supplied origin<span class="token punctuation">.</span> Have the server send the header with a valid value<span class="token punctuation">,</span> or<span class="token punctuation">,</span> if an opaque response serves your needs<span class="token punctuation">,</span> set the request's mode to <span class="token string">'no-cors'</span> to fetch the resource with CORS disabled<span class="token punctuation">.</span>
</code></pre></div></li> <li><p><code>Access-Control-Allow-Headers</code> 未设置</p> <div class="language-log extra-class"><pre class="language-log"><code>Access to fetch at <span class="token string">'http://127.0.0.1:8967/1.pdf'</span> from origin <span class="token string">'http://127.0.0.1:7001'</span> <span class="token property">has been blocked by CORS policy:</span> Request header field range is not allowed by Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Headers in preflight response
</code></pre></div><p><img src="/docs/developer-guide/assets/img/missing-allow-headers.aeedbc77.png" alt="missing-allow-headers"></p></li></ol> <h2 id="cors-解决方案"><a href="#cors-解决方案" class="header-anchor">#</a> CORS 解决方案</h2> <p>解决 CORS 的方法有两种，一种是使用代理服务器避免出现跨域， 另一种则是配置 CORS 规则</p> <h3 id="使用代理服务器"><a href="#使用代理服务器" class="header-anchor">#</a> 使用代理服务器</h3> <p>代理服务器是一个位于客户端和目标服务器之间的中间服务器，我们可以通过代理服务器来请求第三方URL资源，由于请求是代理服务器发起的，因此浏览器不会出现CORS问题。我们可以自己搭建一个代理服务器，也可以使用第三方提供的代理服务器。这里介绍 nginx 和 nodejs 配置代理服务器的方法，这些方法都是实现同一个功能，就是将 <code>/prefix/*</code>的请求代理到第三方服务服务器 <code>http://third_party.file.server</code> 上， 同时去掉原始路径中的 <code>/prefix</code> 前缀。如 <code>http://location:3000/prefix/path/to/some.pdf</code> 请求代理后的 URL 为 <code>http://third_party.file.server/path/to/some.pdf</code>。</p> <h4 id="nginx-配置代理服务器"><a href="#nginx-配置代理服务器" class="header-anchor">#</a> Nginx 配置代理服务器</h4> <p>Nginx 是一个高性能的 Web 服务器，也可以作为代理服务器使用，下面是 Nginx 中配置代理服务器的方法：</p> <p>打开 nginx 配置文件，(通常位于/etc/nginx/nginx.conf, 具体情况视服务器环境决定), 找到对应的 server 块，并添加一下代码：</p> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">location</span> ~* ^/prefix/(.*)</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">proxy_pass</span> http://third_party.file.server/<span class="token variable">$1</span><span class="token variable">$is_args</span><span class="token variable">$args</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">proxy_redirect</span> <span class="token boolean">off</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>上述代码指示 Nginx 在接收到路径中以 /prefix 开头的请求时，先拼凑出正确的文件URL路径，再把请求代理到第三方文件服务器上。</p> <h4 id="nodejs-配置代理服务器"><a href="#nodejs-配置代理服务器" class="header-anchor">#</a> Nodejs 配置代理服务器</h4> <p>以 Express, Koa, NestJS 为例</p> <ol><li><p>Express</p> <p>Express 可以搭配 http-proxy-middleware 这个第三方中间件实现代理，配合 express 的路由功能，将以 prefix 开头的请求代理到第三方文件服务器上：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> createProxyMiddleware <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http-proxy-middleware'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/prefix'</span><span class="token punctuation">,</span> <span class="token function">createProxyMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'http://third_party.file.server'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token punctuation">[</span><span class="token string">'^/prefix'</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这段代码在接收到路径以 /prefix 开头的请求时，会帮我们将路径中的 /prefix/ 替换掉， 并将请求转发到 target URL 去。更多用法可以参考 <a href="https://www.npmjs.com/package/http-proxy-middleware" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/package/http-proxy-middleware<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>Koa</p> <p>Koa 需要搭配 koa-proxy 这个第三方中间实现代理：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Koa <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'koa'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'koa-proxy'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Koa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
    <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token string">'/prefix'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">'http://third_party.file.server'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">match</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\/prefix\/</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token function-variable function">map</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> path<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'/prefix'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 替换掉路径中的 /prefix 前缀</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><p>更多用法可以参考 <a href="https://www.npmjs.com/package/koa-proxy" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/package/koa-proxy<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>NestJS
和 express 类似，也可以搭配 <code>http-proxy-middleware</code> 这个第三方库实现代理：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> NestFactory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@nestjs/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> AppModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./app.module'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createProxyMiddleware <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'http-proxy-middleware'</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">bootstrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">await</span> NestFactory<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>AppModule<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Proxy endpoints</span>
    app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/prefix'</span><span class="token punctuation">,</span> <span class="token function">createProxyMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        target<span class="token operator">:</span> <span class="token string">'http://third_party.file.server'</span><span class="token punctuation">,</span>
        changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        pathRewrite<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">^/prefix</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">bootstrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这段代码最终效果和 Express 的示例相同。</p></li></ol> <h3 id="配置-cors"><a href="#配置-cors" class="header-anchor">#</a> 配置 CORS</h3> <p>WebSDK 中最经常能够遇到跨域问题的接口就是 PDFViewer.openPDFByHttpRangeRequest , 为了提高PDF文档打开速度和减少文件服务器带宽，这个接口会在发送 PDF 文件请求时向文件服务器发送带有 <code>Range</code> 请求头的请求，并且在接收到响应后，需要根据<code>Content-Range</code>响应头计算文件总大小。所以在配置 CORS 时，应至少包含以下三项：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>Access-Control-Allow-Headers: Range<span class="token punctuation">;</span>
Access-Control-Allow-Origin: *<span class="token punctuation">;</span> // 为了安全考虑，建议和请求头中的 Referer 的值相同
Access-Control-Expose-Headers: Content-Range<span class="token punctuation">;</span> // 只有将加入这里的响应头 key，才能被 JS 获取到响应头的值。
</code></pre></div><p>下面将列举出几个不同场景下的配置方法。</p> <h4 id="web-服务器配置-cors"><a href="#web-服务器配置-cors" class="header-anchor">#</a> Web 服务器配置 CORS</h4> <ol><li><p>Nginx 配置 CORS</p> <p>在 nginx.conf（一般目录是 <code>/etc/nginx/nginx.conf</code>） 文件中添加下面的节点：</p> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">listen</span> <span class="token number">8967</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server_name</span> 127.0.0.1</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">charset</span> utf8</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">root</span> <span class="token string">&quot;/path/to/files/directory/&quot;</span></span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">if</span> (<span class="token variable">$request_method</span> = OPTIONS)</span> <span class="token punctuation">{</span>
            <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Access-Control-Allow-Headers'</span> <span class="token string">'Range'</span></span><span class="token punctuation">;</span>
            <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Access-Control-Allow-Origin'</span> <span class="token string">'*'</span></span><span class="token punctuation">;</span>
            <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Access-Control-Expose-Headers'</span> <span class="token string">'Content-Range'</span></span><span class="token punctuation">;</span>
            <span class="token directive"><span class="token keyword">return</span> <span class="token number">204</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Access-Control-Allow-Headers'</span> <span class="token string">'Range'</span></span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Access-Control-Allow-Origin'</span> <span class="token string">'*'</span></span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Access-Control-Expose-Headers'</span> <span class="token string">'Content-Range'</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>上面的配置允许了所有站点都可以跨域访问资源，这是一种非常不安全但省事的做法，实际的应用场景应添加限制，比如根据访问的源设置是否允许跨域，做法如下：</p> <ol><li><p>添加 $cors 变量，根据 $http_origin 判断是否为合法的源, 下面的代码将允许所有 foxit.com 的子域名跨域访问资源：</p> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">map</span> <span class="token variable">$http_origin</span> <span class="token variable">$cors</span></span> <span class="token punctuation">{</span>
    '~*^https?://.*.foxit.com$' 'true'<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>添加 $allow_origin 变量，如果 $cors 值为 'true', 则表示该请求为跨域访问，则响应 <code>Access-Control-Allow-Origin</code> 值</p> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">map</span> <span class="token variable">$cors</span> <span class="token variable">$allow_origin</span></span> <span class="token punctuation">{</span>
    'true' $http_origin<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>如此，也可以想上一步那样，在跨域访问时再指定 <code>Access-Control-Allow-Headers</code> 响应头</p> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">map</span> <span class="token variable">$cors</span> <span class="token variable">$allow_headers</span></span> <span class="token punctuation">{</span>
    'true' 'Range'<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>最后我们整合所有配置</p> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">map</span> <span class="token variable">$http_origin</span> <span class="token variable">$cors</span></span> <span class="token punctuation">{</span>
    '~*^https?://.+.foxit.com$' 'true'<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token directive"><span class="token keyword">map</span> <span class="token variable">$cors</span> <span class="token variable">$allow_origin</span></span> <span class="token punctuation">{</span>
    'true' $http_origin<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token directive"><span class="token keyword">map</span> <span class="token variable">$cors</span> <span class="token variable">$allow_headers</span></span> <span class="token punctuation">{</span>
    'true' 'Range'<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token directive"><span class="token keyword">map</span> <span class="token variable">$cors</span> <span class="token variable">$allow_expose_headers</span></span> <span class="token punctuation">{</span>
    'true' 'Content-Range'
<span class="token punctuation">}</span>
<span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">listen</span> <span class="token number">8967</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server_name</span> 127.0.0.1</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">charset</span> utf8</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">root</span> <span class="token string">&quot;/path/to/files/directory/&quot;</span></span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">if</span> (<span class="token variable">$request_method</span> = OPTIONS)</span> <span class="token punctuation">{</span>
            <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Access-Control-Allow-Headers'</span> <span class="token variable">$allow_headers</span></span><span class="token punctuation">;</span>
            <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Access-Control-Allow-Origin'</span> <span class="token variable">$allow_origin</span></span><span class="token punctuation">;</span>
            <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Access-Control-Expose-Headers'</span> <span class="token variable">$allow_expose_headers</span></span><span class="token punctuation">;</span>
            <span class="token directive"><span class="token keyword">return</span> <span class="token number">204</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Access-Control-Allow-Headers'</span> <span class="token variable">$allow_headers</span></span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Access-Control-Allow-Origin'</span> <span class="token variable">$allow_origin</span></span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">add_header</span> <span class="token string">'Access-Control-Expose-Headers'</span> <span class="token variable">$allow_expose_headers</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <p>为了确保修改是正确的，我们建议先运行 <code>nginx -t</code> 检查配置变化是否有误，如果无误，再运行 <code>nginx -s reload</code> 重新加载 nginx 服务.</p></li> <li><p>Tomcat 配置 CORS
下面是一个精简的 CORS 配置例子， 当然，你也可以参考 Tomcat 官方文档： <a href="http://tomcat.apache.org/tomcat-7.0-doc/config/filter.html#CORS_Filter" target="_blank" rel="noopener noreferrer">http://tomcat.apache.org/tomcat-7.0-doc/config/filter.html#CORS_Filter<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>CorsFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>org.apache.catalina.filters.CorsFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>cors.allowed.origins<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>https://*.foxit.org<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>cors.allowed.headers<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>Range<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>cors.exposed.headers<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>Content-Range<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>CorsFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>Apache 配置 CORS
在 Apache 中， 我们可以通过添加以下规则到服务器配置（通常位于 httpd.conf 或 apache.conf）的<code>&lt;Directory&gt;</code>,<code>&lt;Location&gt;</code>, <code>&lt;Files&gt;</code>或<code>&lt;VirtualHost&gt;</code>部分中来启用 CORS,:</p> <div class="language-conf extra-class"><pre class="language-text"><code>Header set Access-Control-Allow-Origin '*';
Header set Access-Control-Allow-Headers 'Range';
Header set Access-Control-Expose-Headers 'Content-Range';
</code></pre></div><p>也可以在 .htaccess 文件中添加下面的代码：</p> <div class="language-conf extra-class"><pre class="language-text"><code>&lt;IfModule mod_headers.c&gt;
    Header set Access-Control-Allow-Origin '*';
    Header set Access-Control-Allow-Headers 'Range';
    Header set Access-Control-Expose-Headers 'Content-Range';
&lt;/IfModule&gt;
</code></pre></div><p>为了确保修改是正确的，强烈建议你使用 <code>apachectl -t</code> 来检查配置变化是否有误，检查无误之后在运行 <code>sudo service apache2.conf</code> 或 <code>apachectl -k graceful</code> 来重新加载 Apache 服务。
注意：你也可以使用 <code>add</code> 代替 <code>set</code> 命令,但是 add 可能会导致头信息被多次添加，所以最安全的做法就是用 <code>set</code>.</p></li> <li><p>IIS 配置 CORS
IIS6 和 IIS7 版本配置方式有所不同，在配置前请先确认当前使用的版本。</p> <ol><li>IIS6
打开 IIS, 选择你需要配置的站点，右键进入属性对话框，选择 'HTTP 头'标签，点击 添加 按钮，然后分别添加这些响应头： <code>Access-Control-Allow-Headers: 'Range'</code>;<code>Access-Control-Allow-Origin: *</code>;<code>Access-Control-Expose-Headers: Content-Range</code>;</li> <li>IIS7
将下面的配置合并或添加到你的站点配置（也就是 web.config 配置文件，如果没有的话可以新建一个）中：</li></ol> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>system.webServer</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>httpProtocol</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>customHeaders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Access-Control-Allow-Origin<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>*<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Access-Control-Allow-Headers<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Range<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Access-Control-Expose-Headers<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Range<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>customHeaders</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>httpProtocol</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>system.webServer</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ol> <h4 id="云存储资源配置-cors"><a href="#云存储资源配置-cors" class="header-anchor">#</a> 云存储资源配置 CORS</h4> <p>市场上有很多云存储和CDN服务，大部分通过查阅官方文档都可以找到响应的配置方式， 这里只列举几个例子：</p> <ol><li>Alibaba Cloud: <a href="https://www.alibabacloud.com/help/en/object-storage-service/latest/configure-cors" target="_blank" rel="noopener noreferrer">https://www.alibabacloud.com/help/en/object-storage-service/latest/configure-cors<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Tencent Cloud: <a href="https://www.tencentcloud.com/document/product/436/13318" target="_blank" rel="noopener noreferrer">https://www.tencentcloud.com/document/product/436/13318<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Google Cloud: <a href="https://cloud.google.com/storage/docs/using-cors" target="_blank" rel="noopener noreferrer">https://cloud.google.com/storage/docs/using-cors<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Azure Storage: <a href="https://learn.microsoft.com/en-us/rest/api/storageservices/cross-origin-resource-sharing--cors--support-for-the-azure-storage-services" target="_blank" rel="noopener noreferrer">https://learn.microsoft.com/en-us/rest/api/storageservices/cross-origin-resource-sharing--cors--support-for-the-azure-storage-services<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>AWS S3: <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/cors.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/AmazonS3/latest/userguide/cors.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol> <h4 id="在服务端框架中配置-cors"><a href="#在服务端框架中配置-cors" class="header-anchor">#</a> 在服务端框架中配置 CORS</h4> <ol><li>Nodejs 相关框架
<ol><li>Express: 请参考 <a href="https://expressjs.com/en/resources/middleware/cors.html" target="_blank" rel="noopener noreferrer">express cors middleware<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Koa: 请参考 <a href="https://github.com/koajs/cors" target="_blank" rel="noopener noreferrer">@koa/cors<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>NestJS: 请参考 <a href="https://docs.nestjs.com/security/cors" target="_blank" rel="noopener noreferrer">CORS|NestJS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol></li> <li>SpringBoot (java) 框架请参考： <a href="https://spring.io/guides/gs/rest-service-cors/#_enabling_cors" target="_blank" rel="noopener noreferrer">Enabling Cross Origin Requests for a RESTful Web Service<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Django (python) 请参考 <a href="https://pypi.org/project/django-cors-headers/" target="_blank" rel="noopener noreferrer">django-cors-headers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Laravel (php) 请参考 <a href="https://github.com/fruitcake/laravel-cors" target="_blank" rel="noopener noreferrer">laravel-cors<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/docs/developer-guide/assets/js/app.5496d287.js" defer></script><script src="/docs/developer-guide/assets/js/2.cd9f3c75.js" defer></script><script src="/docs/developer-guide/assets/js/1.f6fc1d0f.js" defer></script><script src="/docs/developer-guide/assets/js/20.f86c055c.js" defer></script>
  </body>
</html>
