(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{357:function(t,e,a){"use strict";a.r(e);var s=a(14),n=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"security"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#security"}},[t._v("#")]),t._v(" Security")]),t._v(" "),e("p",[t._v("FoxitPDFSDKforWeb Server adopts JSON Web Token (jwt) type to authenticate the user access. Your Authentication Server generates a token that certifies the user identity, and sends it to Foxit client web viewer. The web viewer will send the token back to FoxitPDFSDKforWeb Server to let the server know this particular identity has the permission to the access certain documents.")]),t._v(" "),e("p",[t._v("You may refer to "),e("a",{attrs:{href:"https://jwt.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("jwt.io"),e("OutboundLink")],1),t._v(" for how to generate JWT token.")]),t._v(" "),e("p",[t._v("Currently, FoxitPDFSDKforWeb Server only recognizes the 'exp (expiration time)' claim specified inside the JWT. Once the token is on or after this "),e("code",[t._v("exp")]),t._v(" value, the request with this token becomes invalid, and not be accepted or processed.")]),t._v(" "),e("h2",{attrs:{id:"enable-jwt-validation-on-foxitpdfsdkforweb-server"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#enable-jwt-validation-on-foxitpdfsdkforweb-server"}},[t._v("#")]),t._v(" Enable JWT validation on FoxitPDFSDKforWeb server")]),t._v(" "),e("p",[t._v("By default, the JWT Authentication is disabled, but can be enabled by configuring the "),e("code",[t._v("docker-compose.yml")]),t._v(" file.  Currently, the supported algorithm is HS256，HS384，HS512，RS256 ，RS384，RS512. This section will take HS256 and RS256 as examples to configure the yml file.")]),t._v(" "),e("p",[e("strong",[t._v("Enable  HS256 validation example")])]),t._v(" "),e("p",[t._v("Suppose the private key is 123, then in the "),e("code",[t._v("docker-compose.yml")]),t._v(", add the following environment variables:")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("S8_WEBPDF_SECRET_JWT_ALG")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("HS256\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("S8_WEBPDF_SECRET_JWT_KEY")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("MTIz\n")])])]),e("p",[t._v("The MTIz is the base64 form of private key 123. In your Authentication server, you will pass the HS256 and MTIz to generate a token, and pass it to the client side - FoxitPDFSDKforWeb.")]),t._v(" "),e("p",[e("strong",[t._v("Enable RS256 validation example")])]),t._v(" "),e("p",[t._v("1.Use RS256 to generate a pair of private and public key:")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("openssl genrsa "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-out")]),t._v(" rs256.key "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2048")]),t._v("\nopenssl rsa "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-in")]),t._v(" rs256.key "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-pubout")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-outform")]),t._v(" PEM "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-out")]),t._v(" rs256_pub.pem\n")])])]),e("p",[t._v("An example of the public key - rs256_pub.pem:")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAnWZFgIRR9rKrELY6ag37\n2vSv8wy5MFamMFUFgwbnr9xtR1GxVlYoZ+itDlSG8TZvhQSDumraRKxHNDSpwzfE\nbRTqaMk4wqocm5ZqqRH7C80VN7IIzg8XHcD/5BnZ/SaiFfV0RDyiCl7zjwt7Oysk\nl829BxBb3G6U3yCMfld9MY3IpK/CuKlHtwvmhezXKPSnRDiq6vwJ1UwoD6Fy2pEd\nCCdTAaBuuHe/XF1xCVR4ul+uXR4gGParkXfskOHbTgMm82ZimqCWeAOIhqwiL24y\nBOm0lHXv4Ql0cWtOgFQv8mzE2cnTc0txpO2wFxr3C0BloYEX15cm+88h/GfLcLur\nqwIDAQAB\n-----END PUBLIC KEY-----\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[t._v("In the "),e("code",[t._v("docker-compose.yml")]),t._v(", set the algothrim and public key to the corresponding environment variables:")])]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("S8_WEBPDF_SECRET_JWT_ALG")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("RS256\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("S8_WEBPDF_SECRET_JWT_KEY")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAnWZFgIRR9rKrELY6ag372vSv8wy5MFamMFUFgwbnr9xtR1GxVlYoZ+itDlSG8TZvhQSDumraRKxHNDSpwzfEbRTqaMk4wqocm5ZqqRH7C80VN7IIzg8XHcD/5BnZ/SaiFfV0RDyiCl7zjwt7Oyskl829BxBb3G6U3yCMfld9MY3IpK/CuKlHtwvmhezXKPSnRDiq6vwJ1UwoD6Fy2pEdCCdTAaBuuHe/XF1xCVR4ul+uXR4gGParkXfskOHbTgMm82ZimqCWeAOIhqwiL24yBOm0lHXv4Ql0cWtOgFQv8mzE2cnTc0txpO2wFxr3C0BloYEX15cm+88h/GfLcLurqwIDAQAB\n")])])]),e("p",[t._v("In your Authentication, you will pass the algothrim and private key to genenrate a token and then pass it to the "),e("code",[t._v("open file")]),t._v(" functions to the client side -FoxitPDFSDKforWeb Standalone.")]),t._v(" "),e("h2",{attrs:{id:"enable-jwt-authentication-on-foxitpdfsdkforweb-standalone"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#enable-jwt-authentication-on-foxitpdfsdkforweb-standalone"}},[t._v("#")]),t._v(" Enable JWT authentication on FoxitPDFSDKforWeb Standalone")]),t._v(" "),e("p",[t._v("You can pass the paramenter "),e("code",[t._v("jwt")]),t._v(" to one of the following open file functions to enable JWT authentication.")]),t._v(" "),e("ul",[e("li",[t._v("PDFViewer.openPDFByFile")]),t._v(" "),e("li",[t._v("PDFViewer.openPDFByHttpRangeRequest")]),t._v(" "),e("li",[t._v("PDFViewer.openPDFById")]),t._v(" "),e("li",[t._v("PDFViewer.reopenPDFDoc")])]),t._v(" "),e("p",[e("strong",[t._v("Example:")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("pdfui"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("openPDFByHttpRangeRequest")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("jwt")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getJWT")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\npdfui"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("openPDFByFile")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pdfDoc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("jwt")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getJWT")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\npdfui"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("openPDFByID")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("docID"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("jwt")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getJWT")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\npdfui"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("reopenPDFDoc")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pdfDoc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("jwt")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getJWT")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);e.default=n.exports}}]);